{"version":3,"sources":["webpack:///./src/views/pages/login/index.vue?6ac1","webpack:///./src/components/LoginValidator/index.vue?cf17","webpack:///./src/views/pages/login/index.vue?7952","webpack:///./src/components/LoginValidator/index.vue?2331","webpack:///./src/components/LoginValidator/index.vue?06a7","webpack:///./src/components/LoginValidator/index.vue?79a5","webpack:///./src/components/LoginValidator/index.vue","webpack:///./src/utils/formValidator.ts","webpack:///./src/views/pages/login/index.vue?eb68","webpack:///./src/views/pages/login/index.vue?e84d","webpack:///./src/views/pages/login/index.vue","webpack:///./src/assets/login/logo.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","loginFormData","_v","FormValidator","checkStringLength","model","value","callback","$$v","$set","expression","hasOpenEye","class","staticStyle","on","$event","slot","key","loginValidateKey","loading","login","staticRenderFns","_s","confirmWords","handler_ok_bg","confirmSuccess","mouseDownFn","beginClientX","mouseMoveState","maxWidth","e","preventDefault","clientX","width","handerDom","document","querySelectorAll","style","left","dragDom","successFunction","handlerDom","getElementsByTagName","removeEventListener","mouseMoveFn","moseUpFn","color","dragDiv","clientWidth","moveDiv","addEventListener","name","component","isPhone","isRequired","opt","validator","rule","length","trim","Error","trigger","required","isIDCard","checkNumberLength","begin","end","valueStr","toString","test","len","msg","checkNotNull","Number","username","password","Date","now","loginFormRef","validate","valide","a","loginValidatorRef","isFinish","$router","push","$message","warning","components","LoginValidator","module","exports"],"mappings":"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","file":"js/Login.d3eb1a46.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5be8719b&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=99641170&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_vm._m(0),_c('div',{staticClass:\"login-body\"},[_c('div',{staticClass:\"login-form-container\"},[_c('el-form',{ref:\"loginFormRef\",staticClass:\"form-style\",attrs:{\"label-position\":\"right\",\"model\":_vm.loginFormData,\"status-icon\":\"\"}},[_c('div',{},[_c('h2',[_vm._v(\"表单登录\")])]),_c('el-form-item',{attrs:{\"prop\":\"username\",\"rules\":_vm.FormValidator.checkStringLength(3, 50, '用户名', true, [\n              'blur',\n              'change' ])}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\",\"prefix-icon\":\"el-icon-user\",\"clearable\":\"\"},model:{value:(_vm.loginFormData.username),callback:function ($$v) {_vm.$set(_vm.loginFormData, \"username\", $$v)},expression:\"loginFormData.username\"}})],1),_c('el-form-item',{staticClass:\"el-item-style\",attrs:{\"prop\":\"password\",\"rules\":_vm.FormValidator.checkStringLength(0, 15, '用户名', true, [\n              'blur',\n              'change' ])}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"type\":(\"\" + (_vm.hasOpenEye ? 'text' : 'password')),\"placeholder\":\"请输入密码\"},model:{value:(_vm.loginFormData.password),callback:function ($$v) {_vm.$set(_vm.loginFormData, \"password\", $$v)},expression:\"loginFormData.password\"}},[_c('i',{class:[_vm.hasOpenEye ? 'el-icon-view' : 'iconfont iconeye1'],staticStyle:{\"font-size\":\"14px\",\"cursor\":\"pointer\"},attrs:{\"slot\":\"suffix\"},on:{\"click\":function($event){_vm.hasOpenEye = !_vm.hasOpenEye}},slot:\"suffix\"})])],1),_c('el-form-item',{staticClass:\"el-item-style\"},[_c('div',{staticClass:\"validate-slide-div\"},[_c('login-validator',{key:_vm.loginValidateKey,ref:\"loginValidatorRef\"})],1)]),_c('el-form-item',{staticClass:\"el-item-style\"},[_c('el-button',{staticStyle:{\"width\":\"100%\",\"height\":\"46px\",\"line-height\":\"15px\",\"font-size\":\"23px\"},attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录 \")])],1)],1)],1)]),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-header\"},[_c('img',{attrs:{\"src\":require(\"@/assets/login/logo.png\"),\"alt\":\"登录logo\",\"height\":\"80%\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-footer\"},[_c('span',[_vm._v(\" ©2020 信息科技部 - 中国人保南昌市分公司\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"dragDiv\",staticClass:\"drag\"},[_c('div',{staticClass:\"drag_bg\"}),_c('div',{staticClass:\"drag_text\"},[_vm._v(_vm._s(_vm.confirmWords))]),_c('div',{ref:\"moveDiv\",staticClass:\"handler handler_bg\",class:{ handler_ok_bg: _vm.confirmSuccess },staticStyle:{\"position\":\"absolute\",\"top\":\"0px\",\"left\":\"0px\"},on:{\"mousedown\":function($event){return _vm.mouseDownFn($event)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Ref, Vue } from \"vue-property-decorator\";\r\n@Component({\r\n  name: \"LoginValidator\",\r\n})\r\nexport default class extends Vue {\r\n  /**\r\n   * 距离屏幕左端距离\r\n   */\r\n  private beginClientX = 0;\r\n  /*触发拖动状态  判断*/\r\n  private mouseMoveState = false;\r\n  /*拖动最大宽度，依据滑块宽度算出来的*/\r\n  private maxWidth = 0;\r\n  /*滑块文字*/\r\n  private confirmWords = \"向右拖动滑块验证\";\r\n  /*验证成功判断*/\r\n  private confirmSuccess = false;\r\n  /**\r\n   * 外壳div\r\n   */\r\n  @Ref() readonly dragDiv!: HTMLDivElement;\r\n  /**\r\n   * 移动的div\r\n   */\r\n  @Ref() readonly moveDiv!: HTMLDivElement;\r\n\r\n  /**\r\n   * 对外暴露的一个是否完成的方法\r\n   */\r\n  public get isFinish() {\r\n    return this.confirmSuccess;\r\n  }\r\n  /**\r\n   * 鼠标点击事件\r\n   */\r\n  private mouseDownFn(e: MouseEvent) {\r\n    if (!this.confirmSuccess) {\r\n      e.preventDefault && e.preventDefault(); //阻止文字选中等 浏览器默认事件\r\n      this.mouseMoveState = true;\r\n      this.beginClientX = e.clientX;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 鼠标移动事件\r\n   */\r\n  private mouseMoveFn(e: MouseEvent) {\r\n    if (this.mouseMoveState) {\r\n      let width = e.clientX - this.beginClientX;\r\n      if (width > 0 && width <= this.maxWidth) {\r\n        const handerDom: NodeListOf<HTMLDivElement> = document.querySelectorAll(\r\n          \".handler\"\r\n        );\r\n        handerDom[0].style.left = width + \"px\";\r\n        const dragDom: NodeListOf<HTMLDivElement> = document.querySelectorAll(\r\n          \".drag_bg\"\r\n        );\r\n        dragDom[0].style.width = width + \"px\";\r\n      } else if (width > this.maxWidth) {\r\n        this.successFunction();\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * 鼠标抬起的事件\r\n   */\r\n  private moseUpFn(e: MouseEvent) {\r\n    this.mouseMoveState = false;\r\n    let width = e.clientX - this.beginClientX;\r\n    if (width < this.maxWidth) {\r\n      const handlerDom: NodeListOf<HTMLDivElement> = document.querySelectorAll(\r\n        \".handler\"\r\n      );\r\n      handlerDom[0].style.left = 0 + \"px\";\r\n      const dragDom: NodeListOf<HTMLDivElement> = document.querySelectorAll(\r\n        \".drag_bg\"\r\n      );\r\n      dragDom[0].style.width = 0 + \"px\";\r\n    }\r\n  }\r\n\r\n  //验证成功函数\r\n  private successFunction() {\r\n    this.confirmSuccess = true;\r\n    this.confirmWords = \"验证通过\";\r\n    // 清除绑定的事件\r\n    // if ((window as Window)?.addEventListener) {\r\n      document\r\n        .getElementsByTagName(\"html\")[0]\r\n        .removeEventListener(\"mousemove\", this.mouseMoveFn);\r\n      document\r\n        .getElementsByTagName(\"html\")[0]\r\n        .removeEventListener(\"mouseup\", this.moseUpFn);\r\n    // } else {\r\n      document\r\n        .getElementsByTagName(\"html\")[0]\r\n        .removeEventListener(\"mouseup\", () => {});\r\n    // }\r\n    // 给图标赋值\r\n    (document.querySelectorAll(\r\n      \".drag_text\"\r\n    ) as NodeListOf<HTMLDivElement>)[0].style.color = \"#fff\";\r\n    (document.querySelectorAll(\r\n      \".handler\"\r\n    ) as NodeListOf<HTMLDivElement>)[0].style.left = this.maxWidth + \"px\";\r\n    (document.querySelectorAll(\r\n      \".drag_bg\"\r\n    ) as NodeListOf<HTMLDivElement>)[0].style.width = this.maxWidth + \"px\";\r\n  }\r\n  /**\r\n   * 组件挂载的时候添加事件计算滑动的宽度\r\n   */\r\n  mounted() {\r\n    this.maxWidth = this.dragDiv.clientWidth - this.moveDiv.clientWidth;\r\n    document\r\n      .getElementsByTagName(\"html\")[0]\r\n      .addEventListener(\"mousemove\", this.mouseMoveFn);\r\n    document\r\n      .getElementsByTagName(\"html\")[0]\r\n      .addEventListener(\"mouseup\", this.moseUpFn);\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=99641170&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=99641170&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99641170\",\n  null\n  \n)\n\nexport default component.exports","import { isCardID, isPhoneNumber } from \"./validate\";\r\n\r\ntype cbFunc = (msg?: string | Error) => void;\r\nexport const FormValidator = {\r\n  /**\r\n   * 验证手机号码的长度是否符合规范\r\n   * @returns {{validator: validator, trigger: string}}\r\n   */\r\n  isPhone: (isRequired: boolean = true, opt?: string) => {\r\n    return {\r\n      validator: (rule: any, value: string, callback: cbFunc) => {\r\n        if (!value || value.length === 0) {\r\n          return callback(\"该选项不能为空\");\r\n        } else {\r\n          value = value.trim();\r\n          if (value.length > 11) {\r\n            return callback(new Error('长度超过11位'))\r\n          } else if (isPhoneNumber(value)) {\r\n            return callback();\r\n          } else if (value.length !== 0) {\r\n            return callback(new Error('输入中……'))\r\n          }\r\n        }\r\n      },\r\n      trigger: opt || 'change',\r\n      required: isRequired || true\r\n    }\r\n  },\r\n  /**\r\n   * 是否为身份证\r\n   * @returns {{validator: validator, trigger: string, required: boolean}}\r\n   */\r\n  isIDCard: (isRequired: boolean = true, opt?: string) => {\r\n    return {\r\n      validator: (rule: any, value: string, callback: cbFunc) => {\r\n        if (!value || value.length === 0) {\r\n          return callback(\"该选项不能为空\");\r\n        } else {\r\n          value = value.trim();\r\n          if (value.length > 18) {\r\n            return callback(new Error('长度超过18位'))\r\n          } else if (isCardID(value)) {\r\n            return callback();\r\n          } else if (value.length !== 0) {\r\n            return callback(new Error('输入中……'))\r\n          }\r\n        }\r\n      },\r\n      trigger: opt || 'blur',\r\n      required: isRequired || true\r\n    }\r\n  },\r\n  /**\r\n   * 验证输入数字的长度是否符合规范\r\n   * @param begin {Number} 开始的长度\r\n   * @param end {Number} 最大长度\r\n   * @returns {{validator: validator, trigger: string}}\r\n   */\r\n  checkNumberLength: (begin: number, end: number, isRequired: boolean = true, opt?: string) => {\r\n    return {\r\n      validator: (rule: any, value: number, callback: cbFunc) => {\r\n        let valueStr = value.toString();\r\n        if (!valueStr || valueStr.length === 0) {\r\n          return false;\r\n        } else {\r\n          valueStr = valueStr.trim();\r\n          if (/^\\d+$/.test(valueStr)) {\r\n            let len = valueStr.length;\r\n            if (len < begin) {\r\n              return callback(new Error('等待输入中...'));\r\n            } else if (end !== null && len > end) {\r\n              return callback(new Error('输入超出长度'));\r\n            }\r\n            return callback();\r\n          }\r\n        }\r\n      },\r\n      required: isRequired || true,\r\n      trigger: opt || 'change'\r\n    }\r\n  },\r\n  /**\r\n   * 验证字符的长度是否符合规范\r\n   * @param begin{Number} 字符开始的长度\r\n   * @param end {Number} 字符的最大长度\r\n   * @returns {{validator: validator}}\r\n   */\r\n  checkStringLength: (begin: number, end: number,msg?:string, isRequired: boolean = true, opt?: string) => {\r\n    return {\r\n      validator: (rule: any, value: string, callback: cbFunc) => {\r\n        if (!value || value.length === 0) {\r\n          return callback(new Error(msg + '不能为空'));\r\n        } else {\r\n          value = value.trim();\r\n          if (/^.+$/.test(value)) {\r\n            let len = value.length;\r\n            if (len < begin) {\r\n              return callback(new Error('等待输入中……'));\r\n            } else if (end !== null && len > end) {\r\n              return callback(new Error('输入超出长度'));\r\n            }\r\n            return callback();\r\n          }\r\n        }\r\n      },\r\n      required: isRequired || true,\r\n      trigger: opt || 'change'\r\n    }\r\n  },\r\n  /**\r\n   * 验证不为空的选项\r\n   * @returns {{validator: validator}}\r\n   */\r\n  checkNotNull: (isRequired: boolean = true, opt?: string) => {\r\n    return {\r\n      validator: (rule: any, value: any, callback: cbFunc) => {\r\n        if (Number(value) && value !== 0) {\r\n          return callback();\r\n        }\r\n\r\n        if (!value || value.length == 0) {\r\n          return callback('该选项不能为空');\r\n        }\r\n        return callback();\r\n      },\r\n      required: isRequired || true,\r\n      trigger: opt || 'change'\r\n    }\r\n  },\r\n\r\n};\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Ref, Vue } from \"vue-property-decorator\";\r\nimport LoginValidator from \"@/components/LoginValidator/index.vue\";\r\nimport { ILoginRes, loginForm } from \"./types\";\r\nimport { FormValidator } from \"@/utils/formValidator\";\r\nimport { APIGetMenu, ApiLogin } from \"@/api/login/index\";\r\nimport { AxiosResponse } from \"node_modules/axios\";\r\nimport { UserModule } from \"@/store/modules/user\";\r\nimport { Form } from \"element-ui/types\";\r\n\r\n@Component({\r\n  name: \"Login\",\r\n  components: {\r\n    LoginValidator,\r\n  },\r\n})\r\nexport default class extends Vue {\r\n  // 登录表单数据\r\n  private loginFormData: loginForm = {\r\n    username: \"16229767\",\r\n    password: \"lg786991\",\r\n  };\r\n  /**\r\n   * 验证器\r\n   */\r\n  private FormValidator = FormValidator;\r\n  /**\r\n   * 密码框是否睁开眼\r\n   */\r\n  private hasOpenEye = false;\r\n  /**\r\n   * 登录按钮是否需要loding\r\n   */\r\n  private loading = false;\r\n  /**\r\n   * 表单的ref\r\n   */\r\n  @Ref() readonly loginFormRef!: Form;\r\n  /**\r\n   * 验证器的ref\r\n   */\r\n  @Ref() readonly loginValidatorRef!: LoginValidator;\r\n  /**\r\n   * 刷新验证组件的key\r\n   */\r\n  private loginValidateKey: string = Date.now().toString();\r\n  /**\r\n   * 登录\r\n   */\r\n  private login() {\r\n    this.loginFormRef.validate(async (valide: boolean) => {\r\n      // this.loading = true;\r\n      if (valide && this.loginValidatorRef.isFinish) {\r\n        // 登录获取数据\r\n        // let resp: AxiosResponse<ILoginRes> = await ApiLogin(this.loginFormData);\r\n        // // 存入token 和 用户data 的数据\r\n        // UserModule.setToken(resp.data.token);\r\n        // UserModule.setUserData(resp.data.data);\r\n        \r\n        // // 获取用户菜单\r\n        // let menuRes = await APIGetMenu({\r\n        //   phone: resp.data.data.mobile,\r\n        //   comcode: resp.data.data.comcode,\r\n        // });\r\n        // console.log(menuRes);\r\n\r\n        this.$router.push(\"/\");\r\n          this.loading = false;\r\n      } else {\r\n        this.$message.warning(\"请完善表单信息或者拖动滑块验证\");\r\n        this.loginValidateKey = Date.now().toString();\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private getMenu() {}\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5be8719b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5be8719b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5be8719b\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo.0f1f06e6.png\";"],"sourceRoot":""}